<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe</title>
    <style>
        .board {
        width: 400px;
        height: 400px;
      }
      .board td,
      .board tr {
        width: 33.3%;
        height: 33.3%;
      }
      .board td {
        border-right: 1px solid;
        border-bottom: 1px solid;
        font-size: 5em;
        text-align: center;
      }

      .board td:last-child {
        border-right: 0;
      }

      .board tr:last-child td {
        border-bottom: 0;
      }
    </style>
</head>
<body>
    <table class="board">
        <tr>
            <td></td>
            <td></td>
            <td></td>
        </tr>   
        <tr>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td></td>
            <td></td>
            <td></td>
        </tr>
    </table>
    <button id="reset">Reset</button>
    <script>
        const board = document.querySelector(".board");
        const resetButton = document.querySelector("#reset");
        const player1 = "X";
        const player2 = "O";
        let player1Plays = [0,0,0,0,0,0,0,0,0];
        let player2Plays = [0,0,0,0,0,0,0,0,0];
        let winnerFound = 0;
        let playCount = 0;
        let play = player1;
        function MarkAndSwitchPlayer(event) {
            if(event.target.innerHTML != ''){
                alert("Try a different square");
            }
            else if(winnerFound == 1){
                alert("Please reset the board")
            }
            else{
                event.target.innerHTML = play;
                playCount++;
                if(play === player1) {
                    play = player2;
                }
                else {
                    play = player1;
                }
                CheckForWinner();
            };
            if(playCount == 9 && winnerFound == 0){
                alert("This game is a draw");
                winnerFound = 1;
            };
        }
        function CheckForWinner(){
            let loopIndex = 0;
            for(let i = 0; i < board.rows.length; i++){
                let row = board.rows[i];
                for(let j = 0; j < row.cells.length; j++){
                    if(row.cells[j].innerHTML == player1){
                        player1Plays[loopIndex] = 1;
                    }
                    else if (row.cells[j].innerHTML == player2){
                        player2Plays[loopIndex] = 1;
                    };
                    loopIndex++;
                };
            };
            if(CheckForWinnerHelper(player1Plays)){
                alert("Player 1 wins!!");
                winnerFound = 1;
            }
            else if (CheckForWinnerHelper(player2Plays)){
                alert("Player 2 wins!!");
                winnerFound = 1;
            };
        }
        function CheckForWinnerHelper(array){
            result = true;
            if(array[0] == 1 && array[3] == 1 && array[6] == 1){

            }
            else if(array[1] == 1 && array[4] == 1 && array[7] == 1){

            }
            else if(array[2] == 1 && array[5] == 1 && array[8] == 1){

            }
            else if(array[0] == 1 && array[1] == 1 && array[2] == 1){

            }
            else if(array[3] == 1 && array[4] == 1 && array[5] == 1){

            }
            else if(array[6] == 1 && array[7] == 1 && array[8] == 1){

            }
            else if(array[0] == 1 && array[4] == 1 && array[8] == 1){

            }
            else if(array[2] == 1 && array[4] == 1 && array[6] == 1){

            }
            else {
                result = false;
            };
            return result;
        }
        function ResetBoard(){
            for(let i = 0; i < board.rows.length; i++){
                let row = board.rows[i];
                for(let j = 0; j < row.cells.length; j++){
                    row.cells[j].innerHTML = "";
                }
            };
            for(i=0; i < player1Plays.length; i++){
                player1Plays[i] = 0;
                player2Plays[i] = 0;
            };
            play = player1;
            playCount = 0;
            winnerFound = 0;
        }
        board.addEventListener("click", MarkAndSwitchPlayer);
        resetButton.addEventListener("click", ResetBoard);
    </script>
</body>
</html>